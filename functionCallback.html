<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h2>first-class object(citizen 또는 entity)로서의 함수</h2>
  <script>
    // 함수가 매개변수로 사용되는 예시
    function cal(func, num){
      return func(num)
    }
    function increase(num){
      return num+1
    }
    function decrease(num){
      return num-1
    }
    document.write(cal(increase, 1)+'<br>');
    document.write(cal(decrease, 1)+'<br>');

    // 함수가 함수의 리턴값으로 사용되는 예시
    function cal2(mode){
    let funcs = {
        'plus' : function(left, right){return left + right},
        'minus' : function(left, right){return left - right}
    }
    return funcs[mode];
    }
    document.write(cal2('plus')(2,1)+'<br>');
    document.write(cal2('minus')(2,1)+'<br>');

    // 함수가 배열의 값으로 사용되는 예시
    let process = [
    function(input){ return input + 10;},
    function(input){ return input * input;},
    function(input){ return input / 2;}
    ];
    let input = 1;
    for(let i = 0; i < process.length; i++){
        input = process[i](input);
    }
    document.write(input+'<br>');

    let numbers = [20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1];
    let sortFunc = function(a, b){
      return a - b; // a-b가 0보다 클(작을) 경우 b를 낮은(높은) 인덱스로 정렬, a-b가 0일 경우 무시하고 진행
      // console.log(a, b);
      // if(a>b){
      //   return 1;
      // } else if (a<b) {
      //   return -1;
      // } else {
      //   return 0;
      // }
    };
    document.write(numbers.sort(sortFunc)); // 여기서 sortFunc가 콜백 함수

    function add(num1, num2){
      return num1 + num2;
    }
    function divide(num1, num2){
      return num1 / num2;
    }
    function surprise(operator){
      const result = operator(4, 2); // 여기서 operator는 add함수를 호출하는 역할 => callback
      console.log(result);
    };
    surprise(add);
    surprise(divide);
  </script>
</body>
</html>